title: $:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/navigate-up
tags: $:/tags/KeyboardShortcut
key: ((navigate-up))

\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation
\procedure actions()
<$let focusedTiddler={{{ [<historyList>get[current-tiddler]] }}} nextTiddler={{{ [list<storyList>before<focusedTiddler>] ~[list<storyList>last[]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>
	<%if [<nextTiddler>is[draft]] %>
		<<tiddlyflex-focus-draft-tiddler>>
	<% else %>
		<<tiddlyflex-focus-flexcontainer>>
	<% endif %>
	<$action-navigate $to=<<nextTiddler>>/>
</$let>
\end
<$macrocall $name="tiddlyflex-keyboard-navigator" actions=<<actions>>/>